leave_behind_q_2020 <- inner_join(leave_behind_q_2020, leave_behind_q_2016, by = c("HHID", "PN"))
# We also need to filter down the procrastination particpants
procrastination_participants <- inner_join(procrastination_participants, demographics_2016, by = c("HHID", "PN"))
# Creating singular data set of relevant data ----------------------------------
hrs_data <- cbind(
tracker[, c("HHID", "PN", "GENDER", "BIRTHYR", "RAGE", "DEGREE", "SCHLYRS", "RMARST", "RLIVARR")],
demographics_2016[, c("PB000")],
demographics_2020[, c("RB000")],
leave_behind_q_2016[, c("PLB002A", "PLB002B", "PLB002C", "PLB002D", "PLB002E",
"PLB031C", "PLB031E", "PLB031I", "PLB031N", "PLB031R", "PLB031V", "PLB031X", "PLB031Z_1", "PLB031Z_5", "PLB031Z_6",
"PLB031D", "PLB031H", "PLB031L", "PLB031Q")],
leave_behind_q_2020[, c("RLB002A", "RLB002B", "RLB002C", "RLB002D", "RLB002E",
"RLB031C", "RLB031E", "RLB031I", "RLB031N", "RLB031R", "RLB031V", "RLB031X", "RLB031Z1", "RLB031Z5", "RLB031Z6",
"RLB031D", "RLB031H", "RLB031L", "RLB031Q")],
procrastination_participants[, c(paste0("RV", 156:167, ".x"))]
)
# Renaming the variables
hrs_data <- hrs_data |>
rename(
HHID = "HHID",
ID = "PN",
Gender = "GENDER",
Birth_year = "BIRTHYR",
Age = "RAGE",
Education = "DEGREE",
School_yrs = "SCHLYRS",
Marital_status = "RMARST",
Living_status = "RLIVARR",
Life_satisfaction_w1 = "PB000",
Life_satisfaction_w2 = "RB000",
Reckless_w1 = "PLB031C", # Start of Conscientiousness
Organised_w1 = "PLB031E",
Responsible_w1 = "PLB031I",
Hardworking_w1 = "PLB031N",
Self_disiplined_w1 = "PLB031R",
Careless_w1 = "PLB031V",
Impulsive_w1 = "PLB031X",
Cautious_w1 = "PLB031Z_1",
Thorough_w1 = "PLB031Z_5",
Thrifty_w1 = "PLB031Z_6", # End of Conscientiousness
Moody_w1 = "PLB031D", # Start of Neuroticism
Worrying_w1 = "PLB031H",
Nervous_w1 = "PLB031L",
Calm_w1 = "PLB031Q", # End of Neuroticism
Reckless_w2 = "RLB031C", # Start of Conscientiousness
Organised_w2 = "RLB031E",
Responsible_w2 = "RLB031I",
Hardworking_w2 = "RLB031N",
Self_disiplined_w2 = "RLB031R",
Careless_w2 = "RLB031V",
Impulsive_w2 = "RLB031X",
Cautious_w2 = "RLB031Z1",
Thorough_w2 = "RLB031Z5",
Thrifty_w2 = "RLB031Z6", # End of Conscientiousness
Moody_w2 = "RLB031D", # Start of Neuroticism
Worrying_w2 = "RLB031H",
Nervous_w2 = "RLB031L",
Calm_w2 = "RLB031Q", # End of Neuroticism
LS1_w1 = "PLB002A",
LS2_w1 = "PLB002B",
LS3_w1 = "PLB002C",
LS4_w1 = "PLB002D",
LS5_w1 = "PLB002E",
LS1_w2 = "RLB002A",
LS2_w2 = "RLB002B",
LS3_w2 = "RLB002C",
LS4_w2 = "RLB002D",
LS5_w2 = "RLB002E",
Procras_1 = "RV156.x",
Procras_2 = "RV157.x",
Procras_3 = "RV158.x",
Procras_4 = "RV159.x",
Procras_5 = "RV160.x",
Procras_6 = "RV161.x",
Procras_7 = "RV162.x",
Procras_8 = "RV163.x",
Procras_9 = "RV164.x",
Procras_10 = "RV165.x",
Procras_11 = "RV166.x",
Procras_12 = "RV167.x"
) |>
select(HHID, ID, Gender, Birth_year, Age, Education, School_yrs, Marital_status, Living_status,
Life_satisfaction_w1, Life_satisfaction_w2, Reckless_w1, Reckless_w2, Organised_w1, Organised_w2,
Responsible_w1, Responsible_w2, Hardworking_w1, Hardworking_w2, Self_disiplined_w1, Self_disiplined_w2,
Careless_w1, Careless_w2, Impulsive_w1, Impulsive_w2, Cautious_w1, Cautious_w2, Thorough_w1, Thorough_w2,
Thrifty_w1, Thrifty_w2, Moody_w1, Moody_w2, Worrying_w1, Worrying_w2, Nervous_w1, Nervous_w2,
Procras_1, Procras_2, Procras_3, Procras_4, Procras_5, Procras_6, Procras_7, Procras_8,
Procras_9, Procras_10, Procras_11, Procras_12)
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
# The below code reverse scores necessary data columns
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Calculating personality_maximum values for relevant variables
personality_max <- max(hrs_data$Careless_w1, na.rm = TRUE)
hrs_data <- hrs_data |>
dplyr::mutate(Organised_w1 = personality_max + 1 - Organised_w1) |>
dplyr::mutate(Hardworking_w1 = personality_max + 1 - Hardworking_w1) |>
dplyr::mutate(Self_disiplined_w1 = personality_max + 1 - Self_disiplined_w1) |>
dplyr::mutate(Cautious_w1 = personality_max + 1 - Cautious_w1) |>
dplyr::mutate(Thorough_w1 = personality_max + 1 - Thorough_w1) |>
dplyr::mutate(Thrifty_w1 = personality_max + 1 - Thrifty_w1) |>
dplyr::mutate(Moody_w1 = personality_max + 1 - Moody_w1) |>
dplyr::mutate(Worrying_w1 = personality_max + 1 - Worrying_w1) |>
dplyr::mutate(Nervous_w1 = personality_max + 1 - Nervous_w1) |>
dplyr::mutate(Organised_w2 = personality_max + 1 - Organised_w2) |>
dplyr::mutate(Hardworking_w2 = personality_max + 1 - Hardworking_w2) |>
dplyr::mutate(Self_disiplined_w2 = personality_max + 1 - Self_disiplined_w2) |>
dplyr::mutate(Cautious_w2 = personality_max + 1 - Cautious_w2) |>
dplyr::mutate(Thorough_w2 = personality_max + 1 - Thorough_w2) |>
dplyr::mutate(Thrifty_w2 = personality_max + 1 - Thrifty_w2) |>
dplyr::mutate(Moody_w2 = personality_max + 1 - Moody_w2) |>
dplyr::mutate(Worrying_w2 = personality_max + 1 - Worrying_w2) |>
dplyr::mutate(Nervous_w2 = personality_max + 1 - Nervous_w2)
# The below code reverse scores necessary data columns
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Calculating personality_maximum values for relevant variables
personality_max <- max(hrs_data$Careless_w1, na.rm = TRUE)
hrs_data <- hrs_data |>
dplyr::mutate(Organised_w1 = personality_max + 1 - Organised_w1) |>
dplyr::mutate(Hardworking_w1 = personality_max + 1 - Hardworking_w1) |>
dplyr::mutate(Self_disiplined_w1 = personality_max + 1 - Self_disiplined_w1) |>
dplyr::mutate(Cautious_w1 = personality_max + 1 - Cautious_w1) |>
dplyr::mutate(Thorough_w1 = personality_max + 1 - Thorough_w1) |>
dplyr::mutate(Thrifty_w1 = personality_max + 1 - Thrifty_w1) |>
dplyr::mutate(Moody_w1 = personality_max + 1 - Moody_w1) |>
dplyr::mutate(Worrying_w1 = personality_max + 1 - Worrying_w1) |>
dplyr::mutate(Nervous_w1 = personality_max + 1 - Nervous_w1) |>
dplyr::mutate(Organised_w2 = personality_max + 1 - Organised_w2) |>
dplyr::mutate(Hardworking_w2 = personality_max + 1 - Hardworking_w2) |>
dplyr::mutate(Self_disiplined_w2 = personality_max + 1 - Self_disiplined_w2) |>
dplyr::mutate(Cautious_w2 = personality_max + 1 - Cautious_w2) |>
dplyr::mutate(Thorough_w2 = personality_max + 1 - Thorough_w2) |>
dplyr::mutate(Thrifty_w2 = personality_max + 1 - Thrifty_w2) |>
dplyr::mutate(Moody_w2 = personality_max + 1 - Moody_w2) |>
dplyr::mutate(Worrying_w2 = personality_max + 1 - Worrying_w2) |>
dplyr::mutate(Nervous_w2 = personality_max + 1 - Nervous_w2)
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
View(hrs_data)
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Replacing preassigned missing values integers with the actual NA value ------
hrs_data <- hrs_data |>
dplyr::mutate(across(c("Education", "Life_satisfaction_w1", "Life_satisfaction_w2"), ~ ifelse(. %in% 9, NA, .))) |>
dplyr::mutate(across("School_yrs", ~ ifelse(. %in% 99, NA, .))) |>
dplyr::mutate(across(c(paste0("Procras_", 1:12)), ~ ifelse(. %in% c(-8, 8, 9), NA, .)))
View(hrs_data)
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Replacing preassigned missing values integers with the actual NA value ------
hrs_data <- hrs_data |>
dplyr::mutate(across(c("Education", "Life_satisfaction_w1", "Life_satisfaction_w2"), ~ ifelse(. %in% 9, NA, .))) |>
dplyr::mutate(across("School_yrs", ~ ifelse(. %in% 99, NA, .))) |>
dplyr::mutate(across(c(paste0("Procras_", 1:12)), ~ ifelse(. %in% c(-8, 8, 9), NA, .)))
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Replacing preassigned missing values integers with the actual NA value ------
hrs_data <- hrs_data |>
dplyr::mutate(across(c("Education", "Life_satisfaction_w1", "Life_satisfaction_w2"), ~ ifelse(. %in% 9, NA, .))) |>
dplyr::mutate(across("School_yrs", ~ ifelse(. %in% 99, NA, .))) |>
dplyr::mutate(across(c(paste0("Procras_", 1:12)), ~ ifelse(. %in% c(-8, 8, 9), NA, .)))
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Replacing preassigned missing values integers with the actual NA value ------
hrs_data <- hrs_data |>
dplyr::mutate(across(c("Education", "Life_satisfaction_w1", "Life_satisfaction_w2"), ~ ifelse(. %in% 9, NA, .))) |>
dplyr::mutate(across("School_yrs", ~ ifelse(. %in% 99, NA, .))) |>
dplyr::mutate(across(c(paste0("Procras_", 1:12)), ~ ifelse(. %in% c(-8, 8, 9), NA, .)))
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
View(hrs_data)
library(dplyr)
path_data_1 <- "./01__Data/01__Raw_data/HRS_2016/"
path_data_2 <- "./01__Data/01__Raw_data/HRS_2020/"
# Reading in Data -------------------------------------------------------------
# Tracker file containing information on each participant
tracker <- haven::read_sav("01__Data/01__Raw_data/Tracker.sav")
# Relevant HRS data files from 2016
demographics_2016 <- haven::read_sav(file.path(path_data_1, "spss/H16B_R.sav"))
leave_behind_q_2016 <- haven::read_sav(file.path(path_data_1, "spss/H16LB_R.sav"))
# Relevant HRS data files from 2020
demographics_2020 <- haven::read_sav(file.path(path_data_2, "h20b_r.sav"))
leave_behind_q_2020 <- haven::read_sav(file.path(path_data_2, "h20lb_r.sav"))
module_V_2020 <- haven::read_sav(file.path(path_data_2, "h20v_r.sav")) # Experimental module with the procrastination data
# Filtration ------------------------------------------------------------------
# Out of the 15723 participants in the data set only 1368 answered the procrastination scale
procrastination_participants <- module_V_2020|>
filter(!is.na(RV155))
# Each data file is now filtered to only focus on those 1368 participants
# This is done by matching the HHID and PN numbers
tracker <- inner_join(tracker, procrastination_participants, by = c("HHID", "PN"))
# 2016 Data
demographics_2016 <- inner_join(demographics_2016, procrastination_participants, by = c("HHID", "PN"))
leave_behind_q_2016 <- inner_join(leave_behind_q_2016, procrastination_participants, by = c("HHID", "PN"))
# 2020 Data
demographics_2020 <- inner_join(demographics_2020, procrastination_participants, by = c("HHID", "PN"))
leave_behind_q_2020 <- inner_join(leave_behind_q_2020, procrastination_participants, by = c("HHID", "PN"))
# Since the 2016 & 2020 dataframes do not match in dimensions we need to filter down
# to the same individual particpants
tracker <- inner_join(tracker, demographics_2016, by = c("HHID", "PN"))
demographics_2020 <- inner_join(demographics_2020, demographics_2016, by = c("HHID", "PN"))
leave_behind_q_2020 <- inner_join(leave_behind_q_2020, leave_behind_q_2016, by = c("HHID", "PN"))
# We also need to filter down the procrastination particpants
procrastination_participants <- inner_join(procrastination_participants, demographics_2016, by = c("HHID", "PN"))
# Creating singular data set of relevant data ----------------------------------
hrs_data <- cbind(
tracker[, c("HHID", "PN", "GENDER", "BIRTHYR", "RAGE", "DEGREE", "SCHLYRS", "RMARST", "RLIVARR")],
demographics_2016[, c("PB000")],
demographics_2020[, c("RB000")],
leave_behind_q_2016[, c("PLB002A", "PLB002B", "PLB002C", "PLB002D", "PLB002E",
"PLB031C", "PLB031E", "PLB031I", "PLB031N", "PLB031R", "PLB031V", "PLB031X", "PLB031Z_1", "PLB031Z_5", "PLB031Z_6",
"PLB031D", "PLB031H", "PLB031L", "PLB031Q")],
leave_behind_q_2020[, c("RLB002A", "RLB002B", "RLB002C", "RLB002D", "RLB002E",
"RLB031C", "RLB031E", "RLB031I", "RLB031N", "RLB031R", "RLB031V", "RLB031X", "RLB031Z1", "RLB031Z5", "RLB031Z6",
"RLB031D", "RLB031H", "RLB031L", "RLB031Q")],
procrastination_participants[, c(paste0("RV", 156:167, ".x"))]
)
# Renaming the variables
hrs_data <- hrs_data |>
rename(
HHID = "HHID",
ID = "PN",
Gender = "GENDER",
Birth_year = "BIRTHYR",
Age = "RAGE",
Education = "DEGREE",
School_yrs = "SCHLYRS",
Marital_status = "RMARST",
Living_status = "RLIVARR",
Life_satisfaction_w1 = "PB000",
Life_satisfaction_w2 = "RB000",
Reckless_w1 = "PLB031C", # Start of Conscientiousness
Organised_w1 = "PLB031E",
Responsible_w1 = "PLB031I",
Hardworking_w1 = "PLB031N",
Self_disiplined_w1 = "PLB031R",
Careless_w1 = "PLB031V",
Impulsive_w1 = "PLB031X",
Cautious_w1 = "PLB031Z_1",
Thorough_w1 = "PLB031Z_5",
Thrifty_w1 = "PLB031Z_6", # End of Conscientiousness
Moody_w1 = "PLB031D", # Start of Neuroticism
Worrying_w1 = "PLB031H",
Nervous_w1 = "PLB031L",
Calm_w1 = "PLB031Q", # End of Neuroticism
Reckless_w2 = "RLB031C", # Start of Conscientiousness
Organised_w2 = "RLB031E",
Responsible_w2 = "RLB031I",
Hardworking_w2 = "RLB031N",
Self_disiplined_w2 = "RLB031R",
Careless_w2 = "RLB031V",
Impulsive_w2 = "RLB031X",
Cautious_w2 = "RLB031Z1",
Thorough_w2 = "RLB031Z5",
Thrifty_w2 = "RLB031Z6", # End of Conscientiousness
Moody_w2 = "RLB031D", # Start of Neuroticism
Worrying_w2 = "RLB031H",
Nervous_w2 = "RLB031L",
Calm_w2 = "RLB031Q", # End of Neuroticism
LS1_w1 = "PLB002A",
LS2_w1 = "PLB002B",
LS3_w1 = "PLB002C",
LS4_w1 = "PLB002D",
LS5_w1 = "PLB002E",
LS1_w2 = "RLB002A",
LS2_w2 = "RLB002B",
LS3_w2 = "RLB002C",
LS4_w2 = "RLB002D",
LS5_w2 = "RLB002E",
Procras_1 = "RV156.x",
Procras_2 = "RV157.x",
Procras_3 = "RV158.x",
Procras_4 = "RV159.x",
Procras_5 = "RV160.x",
Procras_6 = "RV161.x",
Procras_7 = "RV162.x",
Procras_8 = "RV163.x",
Procras_9 = "RV164.x",
Procras_10 = "RV165.x",
Procras_11 = "RV166.x",
Procras_12 = "RV167.x"
) |>
select(HHID, ID, Gender, Birth_year, Age, Education, School_yrs, Marital_status, Living_status,
Life_satisfaction_w1, Life_satisfaction_w2, Reckless_w1, Reckless_w2, Organised_w1, Organised_w2,
Responsible_w1, Responsible_w2, Hardworking_w1, Hardworking_w2, Self_disiplined_w1, Self_disiplined_w2,
Careless_w1, Careless_w2, Impulsive_w1, Impulsive_w2, Cautious_w1, Cautious_w2, Thorough_w1, Thorough_w2,
Thrifty_w1, Thrifty_w2, Moody_w1, Moody_w2, Worrying_w1, Worrying_w2, Nervous_w1, Nervous_w2,
LS1_w1, LS1_w2, LS2_w1, LS2_w2, LS3_w1, LS3_w2, LS4_w1, LS4_w2, LS5_w1, LS5_w2,
Procras_1, Procras_2, Procras_3, Procras_4, Procras_5, Procras_6, Procras_7, Procras_8,
Procras_9, Procras_10, Procras_11, Procras_12)
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
# The below code reverse scores necessary data columns
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Calculating personality_maximum values for relevant variables
personality_max <- max(hrs_data$Careless_w1, na.rm = TRUE)
hrs_data <- hrs_data |>
dplyr::mutate(Organised_w1 = personality_max + 1 - Organised_w1) |>
dplyr::mutate(Hardworking_w1 = personality_max + 1 - Hardworking_w1) |>
dplyr::mutate(Self_disiplined_w1 = personality_max + 1 - Self_disiplined_w1) |>
dplyr::mutate(Cautious_w1 = personality_max + 1 - Cautious_w1) |>
dplyr::mutate(Thorough_w1 = personality_max + 1 - Thorough_w1) |>
dplyr::mutate(Thrifty_w1 = personality_max + 1 - Thrifty_w1) |>
dplyr::mutate(Moody_w1 = personality_max + 1 - Moody_w1) |>
dplyr::mutate(Worrying_w1 = personality_max + 1 - Worrying_w1) |>
dplyr::mutate(Nervous_w1 = personality_max + 1 - Nervous_w1) |>
dplyr::mutate(Organised_w2 = personality_max + 1 - Organised_w2) |>
dplyr::mutate(Hardworking_w2 = personality_max + 1 - Hardworking_w2) |>
dplyr::mutate(Self_disiplined_w2 = personality_max + 1 - Self_disiplined_w2) |>
dplyr::mutate(Cautious_w2 = personality_max + 1 - Cautious_w2) |>
dplyr::mutate(Thorough_w2 = personality_max + 1 - Thorough_w2) |>
dplyr::mutate(Thrifty_w2 = personality_max + 1 - Thrifty_w2) |>
dplyr::mutate(Moody_w2 = personality_max + 1 - Moody_w2) |>
dplyr::mutate(Worrying_w2 = personality_max + 1 - Worrying_w2) |>
dplyr::mutate(Nervous_w2 = personality_max + 1 - Nervous_w2)
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
# Certain variables in the HRS Data have preassigned missing values (-8, 8, 9, 98, 99)
# These values are changed to the actual NA value to facilitate correct summation
# further down the line.
# -----------------------------------------------------------------------------
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Replacing preassigned missing values integers with the actual NA value ------
hrs_data <- hrs_data |>
dplyr::mutate(across(c("Education", "Life_satisfaction_w1", "Life_satisfaction_w2"), ~ ifelse(. %in% 9, NA, .))) |>
dplyr::mutate(across("School_yrs", ~ ifelse(. %in% 99, NA, .))) |>
dplyr::mutate(across(c(paste0("Procras_", 1:12)), ~ ifelse(. %in% c(-8, 8, 9), NA, .)))
# Exporting -------------------------------------------------------------------
export_path <- "./01__Data/02__Processed_data/"
writexl::write_xlsx(hrs_data, path = file.path(export_path, "HRS_Data_Longitudinal.xlsx"))
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 14, ]
View(hrs_data_reduced)
View(hrs_data_reduced)
# Creating Model --------------------------------------------------------------
pp_model <- '
# Latent Variables
LS_w1 =~ v1*LS1_w1 v2*LS2_w1 + v3*LS3_w1 + v4*LS4_w1 + v5*LS5_w1
LS_w2 =~ v1*LS1_w2 v2*LS2_w2 + v3*LS3_w2 + v4*LS4_w2 + v5*LS5_w2
Con_w1 =~ v6*Reckless_w1 + v7*Organised_w1 + v8*Responsible_w1 + v9*Hardworking_w1 + v10*Self_disiplined_w1 + v11*Careless_w1 + v12*Impulsive_w1 + v13*Cautious_w1 + v15*Thorough_w1 + v16*Thrifty_w1
Con_w2 =~ v6*Reckless_w2 + v7*Organised_w2 + v8*Responsible_w2 + v9*Hardworking_w2 + v10*Self_disiplined_w2 + v11*Careless_w2 + v12*Impulsive_w2 + v13*Cautious_w2 + v15*Thorough_w2 + v16*Thrifty_w2
Neu_w1 =~ v17*Moody_w1 + v18*Worrying_w1 + v19*Nervous_w1 + v20*Calm_w1
Neu_w2 =~ v17*Moody_w2 + v18*Worrying_w2 + v19*Nervous_w2 + v20*Calm_w2
Procra =~ Procras_1 + Procras_2 + Procras_3 + Procras_4 + Procras_5 + Procras_6 + Procras_7 + Procras_8 + Procras_9 + Procras_10 + Procras_11 + Procras_12
'
library(lavaan)
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Due to the leave behind questionnaire being answered only by certain participants
# in certain waves we need a way to filter out the high prevalence of missing values
# whilst still retaining data with smaller prevelances of missing values. To do this we
# will use the number of items in the personality scales (14). Participants with 14 or more
# missing values tended to be the participants who were not given the leave behind questionnaire in both waves
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 14, ]
# Creating Model --------------------------------------------------------------
pp_model <- '
# Latent Variables:
LS_w1 =~ v1*LS1_w1 v2*LS2_w1 + v3*LS3_w1 + v4*LS4_w1 + v5*LS5_w1
LS_w2 =~ v1*LS1_w2 v2*LS2_w2 + v3*LS3_w2 + v4*LS4_w2 + v5*LS5_w2
Con_w1 =~ v6*Reckless_w1 + v7*Organised_w1 + v8*Responsible_w1 + v9*Hardworking_w1 + v10*Self_disiplined_w1 + v11*Careless_w1 + v12*Impulsive_w1 + v13*Cautious_w1 + v15*Thorough_w1 + v16*Thrifty_w1
Con_w2 =~ v6*Reckless_w2 + v7*Organised_w2 + v8*Responsible_w2 + v9*Hardworking_w2 + v10*Self_disiplined_w2 + v11*Careless_w2 + v12*Impulsive_w2 + v13*Cautious_w2 + v15*Thorough_w2 + v16*Thrifty_w2
Neu_w1 =~ v17*Moody_w1 + v18*Worrying_w1 + v19*Nervous_w1 + v20*Calm_w1
Neu_w2 =~ v17*Moody_w2 + v18*Worrying_w2 + v19*Nervous_w2 + v20*Calm_w2
Procra =~ Procras_1 + Procras_2 + Procras_3 + Procras_4 + Procras_5 + Procras_6 + Procras_7 + Procras_8 + Procras_9 + Procras_10 + Procras_11 + Procras_12
# Residuals at different time points allowed to correlate:
LS1_w1 ~~ LS1_w2;
LS2_w1 ~~ LS2_w2;
LS3_w1 ~~ LS3_w2;
LS4_w1 ~~ LS4_w2;
LS5_w1 ~~ LS5_w2;
Reckless_w1 ~~ Reckless_w2;
Organised_w1 ~~ Organised_w2;
Responsible_w1 ~~ Responsible_w2;
Hardworking_w1 ~~ Hardworking_w2#
Self_disiplined_w1 ~~ Self_disiplined_w2;
Careless_w1 ~~ Careless_w2;
Impulsive_w1 ~~ Impulsive_w2;
Cautious_w1 ~~ Cautious_w2;
Thorough_w1 ~~ Thorough_w2;
Thrifty_w1 ~~ Thrifty_w2;
Moody_w1 ~~ Moody_w2;
Worrying_w1 ~~ Worrying_w2;
Nervous_w2 ~~ Nervous_w2;
Calm_w1 ~~ Calm_w2;
'
View(hrs_data_reduced)
library(lavaan)
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
# Due to the leave behind questionnaire being answered only by certain participants
# in certain waves we need a way to filter out the high prevalence of missing values
# whilst still retaining data with smaller prevelances of missing values. To do this we
# will use the number of items in the personality scales (14). Participants with 14 or more
# missing values tended to be the participants who were not given the leave behind questionnaire in both waves
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 14, ]
# Creating Model --------------------------------------------------------------
# Note: LS = Life Satisfaction // Con = Conscientiousness // Neu = Neuroticism // Procra = Procrastination
pp_model <- '
# Latent Variables:
LS_w1 =~ v1*LS1_w1 v2*LS2_w1 + v3*LS3_w1 + v4*LS4_w1 + v5*LS5_w1;
LS_w2 =~ v1*LS1_w2 v2*LS2_w2 + v3*LS3_w2 + v4*LS4_w2 + v5*LS5_w2;
Con_w1 =~ v6*Reckless_w1 + v7*Organised_w1 + v8*Responsible_w1 + v9*Hardworking_w1 + v10*Self_disiplined_w1 + v11*Careless_w1 + v12*Impulsive_w1 + v13*Cautious_w1 + v15*Thorough_w1 + v16*Thrifty_w1;
Con_w2 =~ v6*Reckless_w2 + v7*Organised_w2 + v8*Responsible_w2 + v9*Hardworking_w2 + v10*Self_disiplined_w2 + v11*Careless_w2 + v12*Impulsive_w2 + v13*Cautious_w2 + v15*Thorough_w2 + v16*Thrifty_w2;
Neu_w1 =~ v17*Moody_w1 + v18*Worrying_w1 + v19*Nervous_w1 + v20*Calm_w1;
Neu_w2 =~ v17*Moody_w2 + v18*Worrying_w2 + v19*Nervous_w2 + v20*Calm_w2;
Procra =~ Procras_1 + Procras_2 + Procras_3 + Procras_4 + Procras_5 + Procras_6 + Procras_7 + Procras_8 + Procras_9 + Procras_10 + Procras_11 + Procras_12;
# Residuals at different time points allowed to correlate:
LS1_w1 ~~ LS1_w2;
LS2_w1 ~~ LS2_w2;
LS3_w1 ~~ LS3_w2;
LS4_w1 ~~ LS4_w2;
LS5_w1 ~~ LS5_w2;
Reckless_w1 ~~ Reckless_w2;
Organised_w1 ~~ Organised_w2;
Responsible_w1 ~~ Responsible_w2;
Hardworking_w1 ~~ Hardworking_w2#
Self_disiplined_w1 ~~ Self_disiplined_w2;
Careless_w1 ~~ Careless_w2;
Impulsive_w1 ~~ Impulsive_w2;
Cautious_w1 ~~ Cautious_w2;
Thorough_w1 ~~ Thorough_w2;
Thrifty_w1 ~~ Thrifty_w2;
Moody_w1 ~~ Moody_w2;
Worrying_w1 ~~ Worrying_w2;
Nervous_w2 ~~ Nervous_w2;
Calm_w1 ~~ Calm_w2;
#INTERCEPTS
inter_ls =~ 1*LS_w1 + 1*LS_w2
slope_ls =~ 1*LS_w1 + 2*LS_w2
inter_con =~ 1*Con_w1 + 1*Con_w2
slope_con =~ 1*Con_w1 + 2*Con_w2
inter_neu =~ 1*Neu_w1 + 1*Neu_w2
slope_neu =~ 1*Neu_w1 + 2*Neu_w2
inter_procra =~ 1*Procra
# DIRECT EFFECT
smem
'
rm(list=ls()) # Clearing work space
path_data <- "./01__Data/02__Processed_data/"
# Reading in data -------------------------------------------------------------
hrs_data <- readxl::read_xlsx(file.path(path_data, "HRS_Data_Longitudinal.xlsx"))
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 13, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 14, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 12, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 19, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 15, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 16, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 17, ]
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 18, ]
View(hrs_data_reduced)
hrs_data_reduced <- hrs_data[rowSums(is.na(hrs_data)) <= 14, ]
View(hrs_data_reduced)
View(hrs_data_reduced)
